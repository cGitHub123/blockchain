### BFT

拜占庭容错，来源于拜占庭将军问题

### 拜占庭将军问题

本质是借拜占庭将军问题来展示分布式共识的问题

假设有三个国家，分别为A，B，C要攻打一个国家D，必须同时两个国家出兵，才有可能战胜D

但是，假设A，B，C中有一个叛徒，它告诉B进攻，告诉C不进攻，这样就把B灭了

### 拜占庭将军问题的解决方式

#### 口信消息型拜占庭问题

* 将三个将军，变成四个将军，也就是说叛徒是M，那么总数要不少于3M+1

* 默认是撤退

* 进行两轮作战命令验证
   * 一个将军发消息给所有其他将军，没有收到的就默认撤退
   * 剩余三个将军，将消息发给另外两个将军

* 解决问题

#### 签名消息型拜占庭问题

* 对忠诚将军的信息进行签名，任何人都可以验证是否篡改

* A先发消息给B和C，假设B将军叛变，将A将军发过来的消息篡改然后发给C，C就会发现被篡改了，并且和收到的A的消息不一样，那么它会不理B，和A行动一致

* 假设A叛变，先发消息给B，C，那么B和C交流A的消息时发现A的消息不一致，先会一起Kill掉A

### PBFT(Practical Byzantine Fault Tolerance)

首先要知道，解决拜占庭将军问题的核心是通讯需要可靠

PBFT
